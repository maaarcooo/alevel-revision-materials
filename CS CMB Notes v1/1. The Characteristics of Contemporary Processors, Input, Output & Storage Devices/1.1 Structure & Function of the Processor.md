# 1.1 Structure & Function of the Processor
## Revision Notes - OCR A Level Computer Science

---

## Components of the CPU

### The Processor
The processor (CPU) is the brain of the computer that executes instructions to allow programs to run.

### Arithmetic and Logic Unit (ALU)
- Performs **arithmetical operations**: addition, subtraction, multiplication, division on fixed/floating point numbers
- Performs **logical operations**: Boolean logic (AND, OR, NOT, XOR)
- Contains multiple components:
  - Arithmetic circuit (mathematical operations)
  - Logic circuit (Boolean operations)
  - Additional registers for data storage
  - Status flags (overflow flag, zero flag)
  - Internal buses for data transport

### Control Unit (CU)
The Control Unit directs the operations of the CPU:
- Controls and coordinates CPU activities
- Manages data flow between CPU and other devices
- Accepts the next instruction
- Decodes instructions
- Stores resulting data back in memory
- Generates timing signals

### Registers
Registers are **small, very high-speed memory cells** inside the CPU that temporarily store data for specific purposes.

| Register | Abbreviation | Purpose |
|----------|--------------|---------|
| **Program Counter** | PC | Stores the **address** of the **next instruction** to be executed |
| **Accumulator** | ACC | Stores **results from calculations** and temporarily holds data after input/loading |
| **Memory Address Register** | MAR | Holds the **address** of a memory location to be **read from or written to** |
| **Memory Data Register** | MDR | Temporarily stores **data** that has been read from memory or data that needs to be written to memory |
| **Current Instruction Register** | CIR | Holds the **current instruction** being executed, divided into **opcode** (operation type) and **operand** (data/address) |

---

## Buses

**Buses** are sets of parallel wires connecting components inside the CPU. The three buses collectively form the **system bus**.

**Bus width** = number of parallel wires, which determines how many bits can be transferred simultaneously (typically 8, 16, 32, or 64 wires).

### Data Bus
- **Bi-directional** (data flows both ways)
- Transports **data and instructions** between components

### Address Bus
- Transmits **memory addresses** specifying where data should be sent to or retrieved from
- Width is proportional to the number of addressable memory locations

### Control Bus
- **Bi-directional**
- Transmits **control signals** between internal and external components
- Coordinates the use of address and data buses

**Control signals include:**
- Bus request (device requesting data bus use)
- Bus grant (CPU grants data bus access)
- Memory write (write data to addressed location)
- Memory read (read data from specific location)
- Interrupt request (device requesting CPU access)
- Clock (synchronises operations)

---

## Fetch-Decode-Execute Cycle

The FDE cycle is the sequence of operations completed to execute an instruction.

### Fetch Phase
1. Address from **PC** is copied to **MAR**
2. **PC** is incremented by 1
3. Instruction at that address is copied from memory to **MDR** via the data bus
4. Value in **MDR** is copied to **CIR**

### Decode Phase
1. Contents of **CIR** are split into **opcode** and **operand**
2. Instruction is decoded by the Control Unit

### Execute Phase
The decoded instruction is executed. Register usage depends on the instruction:

- **INP** (Input): ACC stores the value
- **OUT** (Output): Value from ACC is outputted
- **LDA** (Load): Data sent via data bus from RAM (at address in MAR) to MDR
- **STA** (Store): Value from ACC → MDR → data bus → RAM (at address in MAR)
- **ADD/SUB**: Values passed to ALU, operation performed, result stored in ACC
- **BRA/BRZ/BRP** (Branch): Comparison takes place in ALU

---

## Assembly Language

Assembly code uses **mnemonics** to represent machine code instructions (e.g., ADD for addition).

**Machine code instruction format:**

```
| Operation Code (Opcode) | Operand |
```

- **Opcode**: Specifies the type of instruction (includes addressing mode)
- **Operand**: Contains the data or address of data for the operation

---

## CPU Performance Factors

### 1. Clock Speed
- The **system clock** generates signals switching between 0 and 1
- All processor activities begin on a clock pulse
- **Clock speed** = time taken for one clock cycle to complete
- Measured in Hz (e.g., 2.3 GHz = 2.3 billion cycles per second)
- One cycle can represent one fetch-decode-execute cycle (though some take multiple cycles)
- **Higher clock speed** = more instructions executed per second = faster task completion

### 2. Number of Cores
- A **core** is an independent processing unit that runs its own fetch-execute cycle
- Multiple cores enable **parallel processing**
- Dual-core theoretically twice as fast as single-core (but not exactly due to task organisation overhead)
- Performance depends on whether tasks can be split between cores
- Each core typically runs at the same speed

### 3. Cache Memory
**Cache** is high-speed memory located close to/inside the CPU that stores frequently used data and instructions.

| Cache Level | Properties |
|-------------|------------|
| **Level 1** | Very fast, small capacity (2-64KB), one per core |
| **Level 2** | Relatively fast, medium capacity (256KB-2MB), shared between cores, larger than L1 |
| **Level 3** | Slower, much larger capacity, located on motherboard (unlike L1 and L2) |

- More cache = more data stored = improved CPU performance
- Cache is faster to access than RAM as it's closer to the CPU
- When cache fills, unused instructions are replaced

---

## Pipelining

**Pipelining** is completing the fetch, decode, and execute cycles of **three separate instructions simultaneously**.

| Step | Fetch | Decode | Execute |
|------|-------|--------|---------|
| 1 | Instruction A | - | - |
| 2 | Instruction B | Instruction A | - |
| 3 | Instruction C | Instruction B | Instruction A |
| 4 | Instruction D | Instruction C | Instruction B |

**Benefits:**
- Reduces CPU idle time (CPU is not idle waiting for next instruction)
- Increases speed of execution
- All parts of the processor can be used simultaneously

**Types:**
- **Instruction pipelining**: Separating instruction into fetch, decode, execute stages
- **Arithmetic pipelining**: Breaking down arithmetic operations and overlapping them

**Important:** In case of a **branch**, the pipeline is **flushed** (emptied).

---

## Computer Architecture

### Von Neumann Architecture

**Key features:**
- **Shared memory** for both data and instructions
- **Single data bus** for both data and instructions
- Single Control Unit
- Data and instructions stored in the same format
- Memory is a linear array of addressable locations
- Built on the **stored program concept**

**Advantages:**
- Cheaper to develop (simpler control unit design)
- Programs can be optimised in size

### Harvard Architecture

**Key features:**
- **Physically separate memories** for instructions and data
- **Separate buses** for instructions and data
- Data and instructions can be fetched **simultaneously** (in parallel)
- More commonly used with embedded processors

**Advantages:**
- Quicker execution (parallel fetching of data and instructions)
- Memories can be different sizes for efficient use of space
- Can optimise individual memory cells and buses based on needs

### Contemporary Processor Architecture

Modern processors use a **combination** of both architectures:
- **Von Neumann** for working with data and instructions in main memory
- **Harvard architecture** to divide cache into separate instruction cache and data cache

**Other contemporary features:**
- **Pipelining**: Overlapping instruction stages
- **Multiple cores**: Parallel processing
- **Virtual cores/Hyperthreading**: Physical core acts as two virtual cores
- **Onboard graphics**: Built-in graphics processing circuitry
- **Performance boosting**: Temporarily increased clock speed
- **Out-of-order execution**: Instructions executed before earlier ones if ready
- **Super scalar**: Multiple instructions executed simultaneously

---

## Key Terminology

- **Opcode**: Operation code specifying the instruction type
- **Operand**: Data or address upon which the operation is performed
- **Mnemonic**: Symbolic representation of machine code instruction
- **System bus**: Collective term for data, address, and control buses
- **Bi-directional**: Data can flow in both directions
- **Parallel processing**: Multiple cores executing tasks simultaneously
- **Buffer**: Temporary storage area near the CPU for pipelining

---

## Exam Tips

1. When describing register usage, be **specific about values** based on the question
2. Remember that registers have **faster access speed** than RAM/secondary storage
3. The PC is incremented **during the fetch phase**, not after
4. Cache is part of **primary storage**, not the CPU itself (though some is within cores)
5. The width of the address bus determines the **number of addressable memory locations**
6. Contemporary processors use features from **both** Von Neumann and Harvard architectures

---

*These notes cover OCR A Level Computer Science specification 1.1.1*
