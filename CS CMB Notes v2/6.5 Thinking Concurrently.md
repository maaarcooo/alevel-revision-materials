# 6.5 Thinking Concurrently

## Specification Coverage
- 2.1.5 a) Determining where concurrent processing can be used
- 2.1.5 b) Benefits and drawbacks of concurrent processing

---

## Concurrent Thinking vs Concurrent Processing

**Concurrent thinking** is the human mindset that allows you to identify patterns and parts of problems where concurrency can be applied. It involves recognising which tasks can be tackled at the same time.

**Concurrent processing** is the computer implementation where multiple processes/tasks run on a **single processor** by giving each process a **fraction of time** and **control** over the processor before swapping to another process.

The key difference is that concurrent thinking uses your brain to plan and identify opportunities for concurrency, while concurrent processing uses a computer processor to execute tasks.

---

## Concurrent Processing vs Parallel Processing

| Concurrent Processing | Parallel Processing |
|----------------------|---------------------|
| Multiple processes on a **single processor** | Multiple processes **run at the same time** over **multiple processor cores** |
| Tasks are given **time slices** of processor time | Tasks execute truly simultaneously |
| Creates the *illusion* of simultaneous execution | Actual simultaneous execution |
| Execution is **sequential** in reality | Execution is genuinely parallel |
| Uses one core | Uses multiple cores (e.g., quad-core) |

### How Concurrent Processing Works

Each process is allocated a few microseconds of **execution time** before the processor swaps to another process. Because human brains have slow information processing speeds, the effect *looks* simultaneous but is actually **sequential**.

**Example:** A virus scan and a game running concurrently:
1. Virus scan receives a time slice (executes for microseconds)
2. Game receives a time slice (executes for microseconds)
3. Process repeats, switching back and forth
4. User perceives both running "at the same time"

---

## Determining Where Concurrent Processing Can Be Used

### Understanding Dependencies

**Dependencies** are **tasks that rely on other tasks** in order to either **start or complete**. When determining which parts of a problem can be tackled concurrently, you must first assess which parts are related and identify any dependencies.

**Example 1 - Construction:** A roofer cannot put a roof on a house if the walls aren't fully built, and walls cannot be built unless the foundation is in place.

**Example 2 - Tax Calculation:** A person's taxes cannot be calculated until all of their income has been input and all deductibles taken into account.

### Identifying Concurrent Opportunities

Tasks can be performed concurrently when they:
- Do not **relate**, **rely**, or **interact** with each other
- Have no dependencies between them
- Can make progress independently

**Example - Car Recording Task:**
Given two tasks: (1) Record number plates of passing cars, (2) Record colours of passing cars.

The concurrent approach is to record the number plate AND colour of each car before moving to the next car, rather than completing all number plates first then all colours. These related tasks can be solved together.

### Batch Programs and Pipelining

When running a **batch program** on sets of data (e.g., climate data analysis or departmental finances):
- If data sets do not relate, rely, or interact, they can be run in **parallel** on **multiple cores**
- This increases **time efficiency** while **maximising resource usage**
- Multiple different batch programs can be **interchanged** and **pipelined** using **concurrent processing** on the same processor
- This allows multiple programs to make progress in a **shorter time frame**

---

## Benefits of Concurrent Processing

1. **Increased program throughput** - The number of tasks completed in a given timeframe is increased. For example, ten programs could be half-finished versus two that may finish to completion.

2. **Less time wasted waiting** - Time spent waiting for user input or reacting to output is minimised by swapping to another task and waiting for an operating system interrupt before swapping back to the waiting task.

---

## Drawbacks of Concurrent Processing

1. **Slower completion for heavy tasks** - If large numbers of users or processes are running that involve high quantities of computation, these processes will take longer to complete as each is allocated a certain time slice.

2. **Coordination overhead** - There is an overhead in coordinating and switching between processes, which reduces program throughput.

3. **Not universally applicable** - Just as with parallel processing, not all tasks are suited to being broken up and performed concurrently.

---

## Comparison: Benefits and Drawbacks of Parallel Processing

| Advantages | Disadvantages |
|-----------|---------------|
| Speeds up repetitive calculations on large data quantities (e.g., image/video editing) by splitting processes over several processors | Different processors running simultaneously may need to communicate, leading to overhead and delays |
| GPUs can render 3D objects quickly by splitting computations between multiple cores | Some tasks may run faster or be optimised to run on a single processor rather than multiple processors |
| Multiple programs or browser pages can run on different processors simultaneously | |

---

## Worked Example

**Question:** A flight simulator allows a user to take control of a simulated aeroplane. The user can fly the plane in an environment that can simulate different weather conditions and additional planes in the sky.

Explain what is meant by 'concurrent processing' and describe one example of how the simulator could make use of it. (4 marks)

**Model Answer:**

Concurrent processing is where multiple processes are allocated time slices of processor time and are pipelined to allow multiple processes to make progress in the same time frame. **[1]**

**Example:**
An example of concurrent processing in a simulator would be the plane moving independently of other planes or weather conditions **[1]**. Individual planes or weather do not always interact with each other, allowing them to operate separately **[1]**. This allows multiple objects and events to occur in the program "at the same time" and react to different events **[1]**.

---

## Exam Tips

- **Distinguish clearly** between concurrent (single processor, time slicing) and parallel (multiple processors, truly simultaneous) processing.

- When asked for examples, remember to: state the example, explain how it acts concurrently, and explain why concurrency is necessary.

- Some operating system scheduling algorithms can **prioritise** certain concurrent processes over others, meaning larger or higher-priority processes could finish sooner.

- When identifying opportunities for concurrency, always consider **dependencies** first - tasks with dependencies cannot run concurrently until their prerequisite tasks complete.

---

## Key Terminology Summary

| Term | Definition |
|------|------------|
| Concurrent processing | Multiple tasks sharing a single processor via time slicing |
| Parallel processing | Multiple tasks running simultaneously on multiple processor cores |
| Time slice | A small fraction of processor time allocated to each process |
| Dependencies | Tasks that rely on other tasks to start or complete |
| Throughput | The number of tasks completed in a given time period |
| Overhead | Additional processing required to coordinate and switch between processes |
| Pipelining | Interchanging multiple processes to allow progress in a shorter timeframe |
